<!-- =========================== HEADER ========================== -->

<div class="row">

</div>

<!-- =========================== TITLE =========================== -->
<div class="row">
    <div class="eleven columns">
        <h1>Test Report: NET</h1>
    </div>
</div>

<!-- =========================== BODY  =========================== -->
<!-- +++++++++++++++++++++++++++ ROW 1 +++++++++++++++++++++++++++ -->

<div class="row">
    <canvas id="myChart" width="150" height="100"></canvas>
</div>

<script>
    {{!--
    var data = JSON.parse({{{stringify}}});
    console.log(data);
    --}}
    {{!-- This is how you get your object from the server side to the client --}}
    {{!-- You will need to construct you object so it can be safely parse, e.g. numbers, no quotes --}}

    var ctx = document.getElementById("myChart").getContext("2d");
    ctx.canvas.width = 300;
    ctx.canvas.height = 300;

    var myChart = new Chart(ctx, {
        type: 'pie',
        data: {
            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
            datasets: [{
                label: '# of Votes',
                data: [12, 19, 3, 5, 2, 3],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255,99,132,1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }]
            },
            responsive: false
        }
    });
</script>

<!-- +++++++++++++++++++++++++++ ROW 2 +++++++++++++++++++++++++++ -->

<div class="row">
    <div class="one column">
        &nbsp;
    </div>
    <div class="ten columns">
        <table class="u-full-width">
            <thead>
                <tr>
                    <th></th>
                    <th>Total</th>
                    <th>Done</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>Stories and Tasks</th>
                    <td>{{context.issues.length}}</td>
                    <td>???</td>
                </tr>
                <tr>
                    <th>Bugs</th>
                    <td>???</td>
                    <td>???</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="one column">
        &nbsp;
    </div>
</div>

<!-- +++++++++++++++++++++++++++ ROW 3 +++++++++++++++++++++++++++ -->

<div class="row">
    <div class="one column">
        &nbsp;
    </div>

    <div class="ten columns">
        <ul>
        {{#each context.issues}}
            <li>
                {{{jiralabel fields.issuetype.iconUrl fields.issuetype.name key fields.summary}}}
                {{#if fields.issuelinks.length}}
                    <ul>
                        {{#each fields.issuelinks}}
                            {{#if this.outwardIssue}}
                                <li>
                                    {{this.type.outward}} {{{buglabel this.outwardIssue.fields.issuetype.iconUrl this.outwardIssue.key this.outwardIssue.fields.summary}}}
                                </li>
                            {{/if}}
                            {{#if this.inwardIssue}}
                                <li>
                                    {{this.type.inward}} {{{buglabel this.inwardIssue.fields.issuetype.iconUrl this.inwardIssue.key this.inwardIssue.fields.summary}}}
                                </li>
                            {{/if}}
                        {{/each}}
                    </ul>
                {{else}}
                    <ul>
                        <li>no related issues</li>
                    </ul>
                {{/if}}
            </li>
        {{/each}}
        </ul>
    </div>
</div>